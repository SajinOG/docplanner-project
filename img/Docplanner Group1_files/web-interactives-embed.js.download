!function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};e[r].call(s.exports,s,s.exports,i);s.l=!0;return s.exports}i.m=e;i.c=t;i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})};i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};i.t=function(e,t){1&t&&(e=i(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);i.r(r);Object.defineProperty(r,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r};i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="//static.hsappstatic.net/web-interactives-embed/static-1.309/";i(i.s=3)}({3:function(e,t,i){"use strict";i.r(t);const r="BANNER",s="MODAL",n="SLIDE_IN",o="EMBEDDED";let a={data:""},c=e=>{try{let t=e?e.querySelector("#_goober"):self._goober;return t||(t=(e||document.head).appendChild(document.createElement("style")),t.innerHTML=" ",t.id="_goober"),t.firstChild}catch(e){}return a},d=/(?:([a-z0-9-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(})/gi,h=/\/\*.*?\*\/|\s{2,}|\n/gm,l=(e,t,i)=>{let r="",s="",n="";for(let o in e){let a=e[o];if("object"==typeof a){let e=t+" "+o;/&/g.test(o)&&(e=o.replace(/&/g,t)),"@"==o[0]&&(e=t,"f"==o[1]&&(e=o)),/@k/.test(o)?s+=o+"{"+l(a,"","")+"}":s+=l(a,e,e==t?o:i||"")}else/^@i/.test(o)?r=o+" "+a+";":n+=l.p?l.p(o.replace(/[A-Z]/g,"-$&").toLowerCase(),a):o.replace(/[A-Z]/g,"-$&").toLowerCase()+":"+a+";"}if(n[0]){let e=t+"{"+n+"}";return i?s+i+"{"+e+"}":r+e+s}return r+s},u={},p=(e,t,i,r)=>{let s=e.toLowerCase?e:function e(t){let i="";for(let r in t)"object"==typeof val?i+=r+e(t[r]):i+=r+t[r];return i}(e),n=u[s]||(u[s]=".go"+s.split("").reduce((e,t)=>101*e+t.charCodeAt(0)>>>0,11));return((e,t,i)=>{t.data.indexOf(e)<0&&(t.data=i?e+t.data:t.data+e)})(u[n]||(u[n]=l(e[0]?(e=>{let t,i=[{}];for(;t=d.exec(e.replace(h,""));)t[4]&&i.shift(),t[3]?i.unshift(i[0][t[3]]=i[0][t[3]]||{}):t[4]||(i[0][t[1]]=t[2]);return i[0]})(e):e,i?"":n)),t,r),n.slice(1)},g=(e,t,i)=>e.reduce((e,r,s)=>{let n=t[s];if(n&&n.call){let e=n(i),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&e.props?"":e}return e+r+(null==n?"":n)},"");function m(e){let t=this||{},i=e.call?e(t.p):e;return p(i.map?g(i,[].slice.call(arguments,1),t.p):i,c(t.target),t.g,t.o)}m.bind({g:1});const f=m(["position:fixed;display:block;width:100%;height:0px;margin:0px;padding:0px;overflow:visible;transform-style:preserve-3d;background:transparent;backface-visibility:hidden;pointer-events:none;left:0px;z-index:9999;"]),w=m(["display:block !important;position:static !important;box-sizing:border-box !important;background:transparent !important;border:none;min-height:0px !important;max-height:none !important;margin:0px;padding:0px !important;height:100% !important;width:1px !important;max-width:100% !important;min-width:100% !important;"]),v=m(["z-index:9999;width:100%;max-height:0px;position:fixed;max-height:95%;visibility:hidden;"]),b=m(["z-index:9999;position:fixed;left:10px;top:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),y=m(["z-index:9999;position:fixed;right:10px;top:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),T=m(["z-index:9999;position:fixed;left:10px;bottom:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),I=m(["z-index:9999;position:fixed;right:10px;bottom:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),E=m(["pointer-events:auto !important;visibility:visible;max-height:2000px;transition:max-height 1s ease-in;"]),_=m(["transition:max-height 0.5s ease-in;"]),P=m(["z-index:99999;position:absolute;inset:50vh auto auto 50%;transform:translate(-50%,-50%);left:50%;top:50%;opacity:0;pointer-events:none;max-height:95%;max-width:95%;"]),O=m(["pointer-events:auto !important;visibility:visible;opacity:1;transition:opacity 1s ease-in;"]),x=m(["transition:opacity 0.5s ease-in;"]),C=m(["position:absolute;pointer-events:none;width:101vw;height:101vh;background:rgba(0,0,0,0.7);opacity:0;z-index:-1;"]),$=m(["z-index:99998;opacity:0.5;visibility:visible;pointer-events:all;cursor:pointer;"]),S=m(["display:flex;justify-content:center;align-items:center;"]),A=[O,E,x,_];var k=function(e,t={}){for(const i in t)Object.hasOwnProperty.call(t,i)&&(e.style[i]=t[i])};const R=(e,t=1)=>{if(!e)return{r:null,g:null,b:null,a:t};if(3===(e=e.replace("#","")).length){const t=e.split("").reduce((e,t)=>e+t+t,"");e=t}return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:t}},L=(e,t=1)=>{const i=R(e,t);return`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`},M="hs-cta-trigger-button",N="hs-cta-embed",F="body-wrapper",B="hs-web-interactives-top-anchor",q="hs-web-interactives-bottom-anchor",U={TOP:"TOP",BOTTOM:"BOTTOM",LEFT:"LEFT",RIGHT:"RIGHT",TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"},D={[U.TOP]:v,[U.BOTTOM]:v,[U.BOTTOM_RIGHT]:I,[U.BOTTOM_LEFT]:T,[U.TOP_RIGHT]:y,[U.TOP_LEFT]:b},H=e=>{try{return decodeURIComponent(e)}catch(e){return""}},j={getParameterByName:(e,t=window.location.search)=>{const i=e.replace(/[\\[]/,"\\\\[").replace(/[\\]]/,"\\\\]"),r=new RegExp(`[\\\\?&]${i}=([^&#]*)`).exec(t);return null!==r?H(r[1].replace(/\\+/g," ")):""}},W=j.getParameterByName,V=e=>/preview(-[^.]+)?.hs-sites(qa)?(-[^.]+)?\.com/g.test(e)||/hubspotpreview(qa)?(-[^.]+)?/.test(e)||!!j.getParameterByName("hs_preview")||!!j.getParameterByName("_preview")&&(!!j.getParameterByName("previewAnyInteractive")||!!j.getParameterByName("previewInteractiveId")),z=(...e)=>{W("hs_debug_interactive")&&console.log(...e)},G="MOBILE_DEVICE",Y="DESKTOP_DEVICE",K="TABLET_DEVICE",Q=()=>window.hsVars&&window.hsVars.analytics_page_id?window.hsVars.analytics_page_id:window.hsVars&&window.hsVars.page_id?window.hsVars.page_id:null,J=()=>!!Q(),X=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.matchMedia("only screen and (max-width: 500px)").matches?G:window.matchMedia("only screen and (min-width: 500px) and (max-width: 900px)").matches?K:Y,Z="hubspotutk",ee="__hstc",te="__hssc",ie=e=>{const t=document.cookie.match(`(^|[^;]+)\\s*${e}\\s*=\\s*([^;]+)`);return t?t.pop():""},re=()=>ie(Z),se=()=>ie(ee),ne=()=>ie(te),oe=3e3,ae=({top:e={},bottom:t={},left:i={},right:r={}}={})=>`calc(50vh - ${(e.value||0)-(t.value||0)}px) calc(50vw - ${(i.value||0)-(r.value||0)}px) 50%`,ce=(e,t)=>{let i=e.width.value||5,r=e.height.value||5;"px"===e.width.units&&(i=Math.max(i,5));"px"===e.height.units&&(r=Math.max(r,5));const n={width:`${i}${e.width.units}`,height:`${r}${e.height.units}`};"BOTTOM"===e.position&&(n.bottom=0);e.offset&&t===s&&(n.inset=ae(e.offset));return n},de=({border:e,borderRadius:t,boxShadow:i}={})=>{const r={};e&&(r.border=`${e.width.value}${e.width.units} ${e.style} ${L(e.color,e.opacity/100)}`);i&&i.css&&(r.boxShadow=i.css.split(":")[1]);t&&(r.borderRadius=`${t.value}${t.units}`);return r};class he{constructor(){this.attachCtaRenderEvent=e=>{document.addEventListener("onrenderhscta",t=>{const i=t.detail.getElementsByClassName(M)[0];if(i){z("Found CTA with trigger after render");e(i)}})};this.setupEmbedContainer=({contentModelId:e})=>{const t=document.getElementsByClassName(F)[0];if(t){t.classList.add(S);t.innerHTML=`\n      <div class="${N} ${N}-${e}">\n    `}else z("No container class found on screenshot page")};this.topAnchorEl=null;this.bottomAnchorEl=null;this.overlayEl=null;this.showing=[];this.addStylesheet()}show(e,t,i=!1){const o=document.getElementById(e);if(!o){console.error("Container not found id: "+e);return}let a=[];switch(t){case s:a=[O];i&&a.push(x);this.showOverlay();break;case r:this.pushEl&&!i&&(this.pushEl.style.display="block");case n:a=[E];i&&a.push(_)}o.classList.add(...a);document.body.classList.add("hs-showing-pop-up");this.showing.push(e)}addStylesheet(){const e=document.createElement("style");e.innerHTML=`.${M} { cursor: pointer; } .hs-showing-pop-up #hubspot-messages-iframe-container { z-index: 9998!important; }`;document.head.appendChild(e)}addPushElement(e){const t=document.createElement("div");t.id="banner-push-element";t.style.height=e;t.style.position="relative";t.style.overflow="hidden";t.style.display="none";document.body.prepend(t);this.pushEl=t}hide(e){const t=document.getElementById(e);this.hideOverlay();this.showing=this.showing.filter(t=>t!==e);this.showing.length||document.body.classList.remove("hs-showing-pop-up");t.classList.remove(...A);if(this.pushEl){this.pushEl.remove();this.pushEl=null}}setHeight(e,t){document.getElementById(e).style.height=t+"px"}setup({screenshotHeight:e}){const t=document.createElement("div"),i=document.createElement("div");t.classList.add(f);i.classList.add(f);t.style.top="0px";t.style.zIndex=99999999;t.style.height="100%";t.style.width="100%";i.style.bottom="0px";document.body.appendChild(t);document.body.appendChild(i);t.id=B;i.id=q;this.topAnchorEl=t;this.bottomAnchorEl=i;this.addOverlay();this.updateForScreenshotHeight(e)}showOverlay(){this.overlayEl.classList.add($)}hideOverlay(){this.overlayEl.classList.remove($)}addOverlay(){const e=document.createElement("div");e.classList.add(C);this.overlayEl=e;this.topAnchorEl.appendChild(e)}handleIframeError(e){return setTimeout(()=>{e.querySelector("iframe").onerror("loading timeout")},oe)}hydrateIframe(e,{renderUrl:t,style:i,submissionId:r,id:s}){let n=`${t}${t.indexOf("?")<0?"?":"&"}hsLoginVerifyDisabled=true&callToActionId=${r}`;const o=n,a=re(),c=J()&&t.indexOf("_hcms/preview/content")<0;if(c){const e=n.split("/");n="/"+e[e.length-1]}else a&&(n=`${n}&utk=${a}`);e.src=n;e.classList.add(w);e.dataset.interactiveId=s;const d=de(i);k(e,d);e.onerror=t=>{console.warn("Error loading",t);if(c){z("attempting full url");e.src=a?`${o}&utk=${a}`:o}else{this.topAnchorEl.removeChild(e.parentElement);this.hideOverlay()}}}addInteractive({renderUrl:e,containerType:t,style:i,id:a,submissionId:c,contentModelId:d},h){const l=document.createElement("iframe");this.hydrateIframe(l,{renderUrl:e,style:i,id:a,submissionId:c,contentModelId:d});const u=ce(i,t);let p;z("//////",l.src);switch(t){case s:p=this.addModal({iframeEl:l,style:u,id:a});break;case r:case n:p=this.addBanner({iframeEl:l,style:u,id:a,position:i.position});break;case o:p=this.setupPlaceholder({iframeEl:l,style:u,id:a,contentModelId:d});break;default:console.warn("Container type not supported: "+t)}h(l);return p}addModal({iframeEl:e,style:t,id:i}){const r=document.createElement("div");k(r,t);r.appendChild(e);r.id=i;r.classList.add(P);this.topAnchorEl.appendChild(r);return r}addBanner({iframeEl:e,style:t,id:i,position:r}){const s=document.createElement("div");k(s,t);s.appendChild(e);s.id=i;s.classList.add(D[r]);if(r===U.BOTTOM||r===U.BOTTOM_LEFT||r===U.BOTTOM_RIGHT)this.bottomAnchorEl.appendChild(s);else if(r===U.TOP||r===U.TOP_RIGHT||r===U.TOP_LEFT){this.topAnchorEl.appendChild(s);this.addPushElement(t.height)}return s}setupPlaceholder({iframeEl:e,style:t,id:i,contentModelId:r}){const s=document.getElementsByClassName(`${N}-${r}`)[0];if(!s){z("No placeholder element for interactive found id:",i);return null}k(s,t);e.style.visibility="hidden";s.appendChild(e);s.id=i;return s}displayEmbeddedIframe(e){const t=e.querySelector("iframe");Array.from(e.children).forEach(i=>{i!==t&&e.removeChild(i)});t.style.visibility=""}updateForScreenshotHeight(e){if(e){const t=document.querySelector(".body-wrapper");t&&(t.style.height=e)}}markContainerAsLoaded(e){const t=document.getElementById(e);t?t.classList.add("hs-cta-embed__loaded"):z("Container not found for: ",e)}getAllButtonsWithTriggerClass(){return document.getElementsByClassName(M)}getAllElementsWithEmbedClasses(){return document.getElementsByClassName(N)}getInteractiveIdsFromElement(e){const t=Array.from(e.classList).filter(e=>e.startsWith(M)&&e!==M||e.startsWith(N)&&e!==N).map(e=>e.split("-").pop());return Number(t)}cleanupTargetOnPopUpTrigger(e){e.removeAttribute("target")}getAllOnPageInteractiveIds(){const e={};let t=[];try{t=Array.from(document.querySelectorAll("a[href*='HS_DISPLAY_CALL_TO_ACTION'"))}catch(e){z("Prefatch not supported in browser")}if(t){t.forEach(this.cleanupTargetOnPopUpTrigger);t.map(e=>e.getAttribute("href")).forEach(t=>{const i=/\(([^)]+)\)/.exec(t)[1];if(i){const t=JSON.parse(i.replace(/(['"])?([a-z0-9A-Z_]+)(['"])?:/g,'"$2": ').replaceAll("'",'"')).id;e[t]=!0}})}Array.from(this.getAllButtonsWithTriggerClass()).forEach(t=>{this.cleanupTargetOnPopUpTrigger(t);const i=this.getInteractiveIdsFromElement(t);i&&(e[i]=!0)});Array.from(this.getAllElementsWithEmbedClasses()).forEach(t=>{const i=this.getInteractiveIdsFromElement(t);i&&(e[i]=!0)});z("Found following ids for trigger on button click:",e);return Object.keys(e).map(Number)}}var le=new he;const ue="config-loaded-success",pe="config-loaded-failure",ge="interactive-shown",me="interactive-closed",fe="interactive-navigated",we=()=>{let e=window.script;if(e&&"hubspot-web-interactives-loader"===e.id)return e;e=document.currentScript;return e&&"hubspot-web-interactives-loader"===e.id?e:document.getElementById("hubspot-web-interactives-loader")},ve=()=>{const e=we();return parseInt(e.getAttribute("data-hsjs-portal"),10)},be=()=>we().getAttribute("data-hsjs-env"),ye=()=>we().getAttribute("data-hsjs-hublet"),Te=()=>"true"===we().getAttribute("data-hsjs-local"),Ie=()=>we().getAttribute("src"),Ee=(()=>{let e=null;return()=>{if(!e){const t=we();e={ungatedFor:t.getAttribute("ungated-for"),portalId:ve(),env:be(),hublet:ye(),isLocal:Te(),src:Ie()}}return e}})(),_e=()=>{const{env:e,hublet:t}=Ee();return`https://perf${"na-1"!==t?"-"+t:""}.hsforms${"prod"===e?"":e}.com/embed/v3/counters.gif`},Pe=e=>{const t=`${_e()}?key=${e}&value=1`;(new Image).src=t};class Oe{reset(){}setup(){}remove(){}}class xe extends Oe{constructor({onTrigger:e}){super();this._isExitIntent=e=>{if(!e)return!1;const t=e.relatedTarget||e.toElement;return(!t||"HTML"===t.nodeName)&&e.clientY<100};this._handleMouseOut=e=>{this._isExitIntent(e)&&this._onTrigger(this)};this._onTrigger=e;this.setup()}setup(){document.addEventListener("mouseout",this._handleMouseOut)}remove(){document.removeEventListener("mouseout",this._handleMouseOut)}}function Ce(){let e=!1;try{const t={get passive(){e=!0}};window.addEventListener("test",t,t);window.removeEventListener("test",t,t)}catch(t){e=!1}return e}function $e(){return Math.max(document.body.offsetHeight,document.body.scrollHeight)}function Se(){return Math.max(window.innerHeight||0,document.documentElement.clientHeight)}function Ae(){return document.body.scrollTop||document.documentElement.scrollTop}class ke extends Oe{constructor({onTrigger:e,value:t}){super();this.handleScroll=()=>{const e=$e()-Se();100*Ae()/e>=this._scrollPercent&&this._onTrigger(this)};this._onTrigger=e;this._scrollPercent=t;this._supportsPassiveScrolling=Ce();this.setup()}setup(){this._supportsPassiveScrolling?window.addEventListener("scroll",this.handleScroll,{capture:!0,passive:!0}):window.addEventListener("scroll",this.handleScroll,!0)}remove(){this._supportsPassiveScrolling?window.removeEventListener("scroll",this.handleScroll,{capture:!0,passive:!0}):window.removeEventListener("scroll",this.handleScroll,!0)}}const Re=1e3;function Le(){return document.timeline?document.timeline.currentTime:performance?performance.now():0}class Me extends Oe{constructor({onTrigger:e,value:t}){super();this._value=t;this._onTrigger=e;const i=Le();z(`Setting up trigger for ${t} seconds, time since load is ${i}`);this._ms=Math.max(t*Re-i,0);this._timeout=null;this.setup()}setup(){this._timeout=setTimeout(()=>{z("Triggering CTA after wait");this._onTrigger(this)},this._ms)}remove(){clearTimeout(this._timeout)}}const Ne=1e3,Fe=["mousedown","mousemove","keypress","scroll","touchstart"];class Be extends Oe{constructor({onTrigger:e,value:t}){super();this.resetTimer=()=>{clearTimeout(this._timeout);this._timeout=setTimeout(()=>this._onTrigger(this),this._seconds)};this._onTrigger=e;this._seconds=t*Ne;this._timeout=null;this.setup()}setup(){this._timeout=setTimeout(()=>this._onTrigger(this),this._seconds);Fe.forEach(e=>{document.addEventListener(e,this.resetTimer)})}remove(){Fe.forEach(e=>{document.removeEventListener(e,this.resetTimer)});clearTimeout(this._timeout)}}const qe="HS_CTA",Ue=qe+"_FROM_CONTAINER",De=qe+"_FROM_PARENT",He=Ue+"_STARTED",je=Ue+"_NAVIGATE_PAGE",We=Ue+"_CLICK_EVENT",Ve=Ue+"_CLOSE_INTERACTIVE",ze=Ue+"_LOG_DEBUG",Ge=Ue+"_NEW_HEIGHT",Ye="HS_DISPLAY_CALL_TO_ACTION",Ke=De+"_DEVICE_TYPE",Qe=De+"_RECIVED_ANALYTICS",Je=Ue+"_PROXY_ANALYTICS",Xe=Ue+"_PROXY_ANALYTICS_FN",Ze=De+"_PROXY_ANALYTICS_FN";var et=(e,t)=>{if(t){const t=window.open(e,"_blank");t&&t.focus()}else window.location.assign(e)};const tt=()=>{const{env:e,hublet:t}=Ee(),i="prod"===e?"":e;let r="";r="na1"!==t&&t?`https://cta-${t}.hubspot${i}.com/web-interactives/public/v1/`:`https://cta-service-cms2.hubspot${i}.com/web-interactives/public/v1/`;return r},it=500;function rt(){let e=(new Date).getTime();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,t=>{const i=(e+16*Math.random())%16|0;e=Math.floor(e/16);return("x"===t?i:3&i|8).toString(16)})}function st(){const e=window.crypto||window.msCrypto,t=new Uint16Array(8);e.getRandomValues(t);const i=e=>{let t=e.toString(16);for(;t.length<4;)t="0"+t;return t};return[0,1,2,3,4,5,6,7].reduce((e,r)=>`${e}${i(t[r])}`,"")}function nt(){const e=window.crypto||window.msCrypto;return void 0!==e&&void 0!==e.getRandomValues&&void 0===window.Uint16Array?st():rt()}const ot=e=>{const[t,i]=e.split("?");if(!i)return{location:t,queryParams:{}};return{location:t,queryParams:i.split("&").reduce((e,t)=>{const[i,r]=t.split("=");return Object.assign({[i]:r},e)},{})}},at=(e=>{const{portalId:t}=Ee(),i={path:null,referrerPath:null,analyticsPageId:null,hsfp:null,hstc:null,hutk:null,hssc:null,contentType:null,portalId:t,canonicalUrl:null,canon:encodeURI(window.location.toString()),referrer:window.document.referrer};let r=[],s=!1;const n=()=>{if(r.length&&s){z("Clearing callback queue",r.length);const e=Object.assign({},i,{pageUrl:window.location.href,pageTitle:window.document.title,referrer:window.document.referrer,userAgent:window.navigator.userAgent,pageId:Q()||i.pageId}),t=Object.keys(e).filter(t=>!!e[t]).reduce((t,i)=>Object.assign({[i]:e[i]},t),{});r.forEach(e=>e(t));r=[]}},o=()=>{window._hsq?window._hsq.push(t=>{s=!0;i.path=t.path;i.referrerPath=t.referrerPath;i.referrer="";i.analyticsPageId=t.pageId;i.hsfp=t._getFingerprint();i.canonicalUrl=t.canonicalUrl;i.contentType=t.contentType;t.session&&(i.hssc=t.session.get());if(t.utk){i.hstc=t.utk.get();i.hutk=t.utk.visitor}else s=!1;if(s){e();n()}}):setTimeout(o,it)};V()||o();return{getTrackingData:e=>{r.push(e);n()},buildTrackingParams:e=>{if(!s){z("Does not have tracker data");i.hutk=nt()}const t=Object.assign({},e,{},i);return Object.keys(t).filter(e=>!!t[e]).reduce((e,i)=>`${e}${e?"&":""}${i}=${encodeURIComponent(t[i])}`,"")}}})(()=>z("Got data from tracker")),ct=(e,t,i,r)=>{if(V(window.location.host)){z("In preview, so dont track",t);return}z("Appending tracking pixel",t);let s=J();const n=t;let o=n;s&&(o=`${r}?${t.split("?")[1]}`);const a=document.createElement("img");a.width=1;a.height=1;a.onload=function(){z("Removing tracking pixel");e.removeChild(a);i&&i(!0)};a.onerror=function(t){if(s){a.src=n;s=!1}else{z("Error loading tracking",t);e.removeChild(a);i&&i(!1)}};a.src=o;e.appendChild(a)},dt=(e,t)=>{const{portalId:i}=Ee(),{location:r,queryParams:s}=ot(e);return`${r}?${at.buildTrackingParams(Object.assign({},s,{},t,{portalId:i}))}`},ht=(e,t,i)=>{const{portalId:r}=Ee(),s=dt(tt()+"track/view",Object.assign({},t,{portalId:r}));ct(e,s,i,"/hs/cta/wi/v")},lt=(e,t,{url:i,widgetId:r},s)=>{const{portalId:n}=Ee(),o=`${tt()}track/click?${at.buildTrackingParams(Object.assign({},t,{widgetId:r,portalId:n,url:encodeURI(i)}))}`;ct(e,o,s,"/hs/cta/wi/c")},ut=(e,t,i)=>{const{portalId:r}=Ee(),s=dt(tt()+"track/close",Object.assign({},t,{portalId:r}));ct(e,s,i,"/hs/cta/wi/cl")},pt=e=>/[a-fA-F0-9]{32}/.test(e),gt=6e4,mt=1440*gt,ft=7*mt,wt=4*ft,vt=Object.freeze({REPEAT_ONCE:"REPEAT_ONCE",REPEAT_FOREVER:"REPEAT_FOREVER",ONCE_OFF:"ONCE_OFF"}),bt=Object.freeze({DAYS:"DAYS",MONTHS:"MONTHS",WEEKS:"WEEKS",MINUTES:"MINUTES"}),yt=Object.freeze({DAYS:mt,MONTHS:wt,WEEKS:ft,MINUTES:gt}),Tt="WI_IGNORED",It="WI_FREQUENCY",Et={frequency:vt.REPEAT_ONCE,backoff:{backoffTimeDuration:2,backoffTimeUnit:bt.WEEKS}},_t=e=>{try{if(!localStorage.getItem(`${It}_${e}`)){const t=localStorage.getItem(`${Tt}_${e}`);if(!t){z("No frequency rules exist showing interactive");return!1}const i=parseInt(t,10);z("Using old rule frequency rule, checking has it been two weeks since interactive ignored");return i>Date.now()-2*yt.WEEKS}const t=JSON.parse(localStorage.getItem(`${It}_${e}`));z("Frequency Rules",t);switch(t.frequency){case vt.ONCE_OFF:return!0;case vt.REPEAT_FOREVER:return!1;case vt.REPEAT_ONCE:{const{timeSaved:e,backoffTimeDuration:i,backoffTimeUnit:r}=t,s=i*yt[r];return e>Date.now()-s}default:return!1}}catch(e){z(e);return!1}},Pt=(e,t)=>{let i=t;i&&i.frequency||(i=Et);const{frequency:r,backoff:s}=i;try{let t={frequency:r};s&&(t=Object.assign({},t,{},s,{timeSaved:Date.now()}));localStorage.setItem(`${It}_${e}`,JSON.stringify(t))}catch(e){return}},Ot=(e,{frequency:t,backoff:i})=>{try{if(!t)return;const r=`${It}_${e}`,s=JSON.parse(localStorage.getItem(r));if(!s){z("No rules to clear");return}if(s.frequency!==t){z("Clearing rule");localStorage.removeItem(r);return}if(!i||!s.backoffTimeDuration)return;if(i.backoffTimeDuration!==s.backoffTimeDuration||i.backoffTimeUnit!==s.backoffTimeUnit){z("Clearing rule");localStorage.removeItem(r)}}catch(e){z(e);return}};class xt{constructor(e,t,i,r){this.currentWindow=t;this.targetWindow=i;this.acceptedPrefix=r;this.id=e}addReceiveMessage(e,t=this.acceptedPrefix){this.currentWindow.addEventListener("message",i=>{z(this.id,"Received",i);(window.jasmine||i.source===this.targetWindow)&&i.data.type&&i.data.type.startsWith(t)&&e(i.data)})}sendMessage(e,t){z(this.id,"Sending message",e,t);this.targetWindow.postMessage({type:e,payload:t},"*")}}var Ct=(()=>{const e={};return(t="iframe",...i)=>{e[t]||(e[t]=new xt(t,...i));return e[t]}})();const $t=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth},St=(e,t)=>{if($t(e)){t();return}const i=new IntersectionObserver(e=>{if(e[0].isIntersecting){t();i.disconnect()}},{threshold:[.25]});i.observe(e)},At="POP_OVER",kt="hsCta",Rt=e=>{window._registerAvailablePopup&&e===s&&window._registerAvailablePopup(kt,At)},Lt=e=>!!window._availablePopups&&(e===s&&!!window._availablePopups.POP_OVER.leadflows),Mt=1,Nt="interactive-ready",Ft="0-91";function Bt(e){if(!e.border)return 0;try{return e.border.width.value}catch(e){return 0}}class qt{constructor({templatePath:e,webInteractiveId:t,containerType:i,iframeSrc:r,triggers:s=[],displayFrequency:n={},containerStyles:a,campaignGuid:c,contentModelId:d},h=!1,l=!1){this.handleInteractiveSeen=()=>{z("Seen interactive",this);at.getTrackingData(e=>{this.handleAnalyticsRecieved(e)},!0);ht(this.containerElement,this.trackingParams,e=>{e||(this.trackingParams.includeInitial=!0)});Pe(ge)};this.hide=()=>{this.isPreview||Pt(this.id,this.displayFrequency);le.hide(this.id);Pe(me);this.isOpen=!1;this.activeTrigger&&this.activeTrigger.remove()};this.handleAnalyticsRecieved=e=>{z("Received analytics for container",e);this.bus.sendMessage(Qe,e)};this.handleProxied=e=>{if(window._hsq){z("Proxying Hsq args from child to parent container");window._hsq.push(e)}else setTimeout(()=>this.handleProxied(e),it)};this.handleProxiedFn=({id:e,otherArgs:t=[]})=>{if(window._hsq){z("Proxying Hsq from parent to child container");if(t.length){z("Proxying other args from child container",...t);window._hsq.push([...t,(...t)=>{this.bus.sendMessage(Ze,{response:t,id:e})}])}else window._hsq.push(t=>{this.bus.sendMessage(Ze,{tracker:t,id:e})})}else setTimeout(()=>this.handleProxiedFn({id:e,otherArgs:t}),it)};this.handleMessage=({type:e,payload:t})=>{switch(e){case ze:z(t);break;case We:{let e=t.url;const i=t.shouldNavigate&&e.indexOf("encryptedPayload")>-1;Pe(fe);const r=t.shouldNavigate&&!t.openNewTab;r&&(this.trackingParams.timeFinished=(new Date).getTime());i?e=dt(e,this.trackingParams):lt(this.containerElement,this.trackingParams,t,()=>{r&&et(e,!1)});this.trackingParams.includeInitial=!1;this.isPreview||Pt(this.id,this.displayFrequency);t.shouldNavigate&&(i||t.openNewTab)&&et(e,t.openNewTab);break}case je:et(t.url);break;case He:this.handleFrameReady();break;case Ve:this.trackingParams.timeFinishedViewing=(new Date).getTime();ut(this.containerElement,this.trackingParams);this.hide();break;case Ge:this.handleHeightUpdate(t.height);break;case Je:this.handleProxied(t.data);break;case Xe:this.handleProxiedFn(t.data)}};this.onTrigger=e=>{if(!this.isOpen){this.isOpen=!0;this.activeTrigger=e;z("Showing",this.activeTrigger);this.show()}};const u=window.origin.startsWith("https")?"https://":"http://";r.startsWith(u)||(r=`${u}${r.replace(/http(s)?:\/\//,"")}`);window.location.search.includes("hs_debug_interactive")&&(r+="?hs_debug_interactive=true");this.id=t||"web-interactive-template";this.contentModelId=d;this.containerType=i;this.isEmbedded=i===o;this.renderUrl=r;this.isOpen=!1;this.triggers=[];this.displayFrequency=n||{};this.activeTrigger=null;this.triggeredByClick=!1;this.iframeWindow=null;this.iframeLoaded=!1;this.isPreview=h;this.trackingParams={webInteractiveId:this.id,containerType:this.containerType,campaignId:c};this.iframeReadyTimeout=null;this.scaleHeightToFitContent=a.scaleHeightToFitContent;this.borderSize=Bt(a);l||e||(this.isPreview?this.setupPreviewTrigger():this.setupTriggers(s));Ot(this.id,this.displayFrequency);this.addToDom({id:this.id,containerType:i,renderUrl:this.renderUrl,style:a,contentModelId:this.contentModelId});z("Set up interactive",this)}show(e=!1){e&&(this.triggeredByClick=!0);if(!e&&!this.triggeredByClick){if(Lt(this.containerType)){z("Conflicts with other popup not showing",this);return}if(_t(this.id,this.displayFrequency)){z("Ignored interactive not showing",this);return}}if(this.iframeLoaded){this.handleInteractiveSeen();le.show(this.id,this.containerType,e);Rt(this.containerType);this.trackingParams.timeStarted=(new Date).getTime();this.isPreview&&document.body.classList.add(Nt)}else{z("Not showing cause iframe not loaded",this);this.iframeReadyTimeout=le.handleIframeError(this.containerElement,this.renderUrl)}}handleFrameReady(){this.iframeLoaded=!0;this.bus.sendMessage(Ke,{deviceType:X()});le.markContainerAsLoaded(this.id);if(null!==this.iframeReadyTimeout){clearTimeout(this.iframeReadyTimeout);this.iframeReadyTimeout=null;this.show(this.triggeredByClick);this.triggeredByClick=!1}if(this.isEmbedded){St(this.containerElement,this.handleInteractiveSeen);le.displayEmbeddedIframe(this.containerElement)}}generateSubmissionId(){const{portalId:e}=Ee();return`${e}-${Ft}-${this.id}`}handleHeightUpdate(e){if(!this.scaleHeightToFitContent)return;const t=e+2*this.borderSize;le.setHeight(this.id,t)}addToDom({id:e,containerType:t,renderUrl:i,style:r,contentModelId:s}){const n=this.generateSubmissionId();this.containerElement=le.addInteractive({id:e,containerType:t,renderUrl:i,style:r,submissionId:n,contentModelId:s},e=>{this.iframeWindow=e.contentWindow;this.setupPostMessageListener()})}setupPreviewTrigger(){this.triggers.push(new Me({onTrigger:this.onTrigger,value:Mt}))}setupPostMessageListener(){this.bus=Ct(this.id,window,this.iframeWindow,Ue);this.bus.addReceiveMessage(this.handleMessage)}setupTriggers({showOnPageScroll:e,showOnExitIntent:t,showAfterDelay:i,showAfterInactivity:r,pageScrollPercentageTrigger:s,delayInSeconds:n,inactivityInSeconds:o}){if(!this.isEmbedded){e&&this.triggers.push(new ke({onTrigger:this.onTrigger,value:s}));t&&this.triggers.push(new xe({onTrigger:this.onTrigger}));i&&this.triggers.push(new Me({onTrigger:this.onTrigger,value:n}));r&&this.triggers.push(new Be({onTrigger:this.onTrigger,value:o}))}}}const Ut=(e=[])=>e.reduce((e,t)=>`${e}&contentIds=${t}`,""),Dt=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Ht=({isPreview:e,previewIds:t=[],versionId:i,previewScheduled:r=!1})=>{const{portalId:s}=Ee(),n=tt()+"/embed/configs";let o=`portalId=${s}&previewScheduled=${r}&isPreview=${e}${Ut(t)}`;Dt()&&(o+="&isMobile=true");i&&e&&(o=`${o}&versionId=${i}`);if(!e){const e=re(),t=se(),i=ne(),r=encodeURIComponent(document.referrer),s=Q(),n=encodeURIComponent(window.location.href);e&&pt(e)&&(o=`${o}&utk=${e}`);t&&(o=`${o}&__hstc=${t}`);i&&(o=`${o}&__hssc=${i}`);r&&(o=`${o}&referrer=${r}`);s&&(o=`${o}&contentId=${s}`);n&&(o=`${o}&currentUrl=${n}`)}return`${n}?${o}`};function jt({isPreview:e,previewIds:t,versionId:i,previewScheduled:r}){const s=Ht({isPreview:e,previewIds:t,versionId:i,previewScheduled:r}),n=J()||e;let o=s;n&&(o="/hs/cta/embed/configs?"+o.split("?")[1]);const a=t=>{let i=t.json();!e&&i.length>0&&(i=[i[0]]);return i};return fetch(o).then(e=>{if(404===e.status&&n)return fetch(s);if(!e.ok)throw new Error("Not found");return e}).then(a)}function Wt(e){const{portalId:t}=Ee(),i=`${tt()}/embed/templateConfig?portalId=${t}&templatePath=${e}`;return new Promise((e,t)=>{fetch(i).then(i=>{i.ok||t();e(i.json())}).catch(e=>{t(e)})})}const Vt=(e,t=500)=>{let i;return(...r)=>{i||e(...r);clearTimeout(i);i=setTimeout(()=>{i=null},t)}},zt="outpost",Gt="na1";function Yt(e=""){return e&&e!==Gt?"-"+e:""}const Kt=(e="")=>"forms"+Yt(e),Qt=(e="")=>"exceptions"+Yt(e),Jt=(e=!1)=>e?"hubspotqa.com":"hubspot.com",Xt=(e=!1)=>e?"hs-embed-reportingqa.com":"hs-embed-reporting.com",Zt=({hublet:e="",isQa:t=!1}={})=>`https://${Kt(e)}.${Jt(t)}/${zt}`,ei=({hublet:e="",isQa:t=!1}={})=>`https://${Qt(e)}.${Xt(t)}/${zt}`;function ti(e,...t){let i,r=0;e=e||{};for(;r<t.length;)if(t[r]){for(i in t[r])t[r].hasOwnProperty(i)&&(e[i]=t[r][i]);r++}else r++;return e}function ii(e,t){if(!t)return!1;for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return!0;return!1}function ri(e){let t="";for(const i in e)e.hasOwnProperty(i)&&(t+=`${i}=${e[i]};`);return t}const si=({isEmbedApp:e=!1,env:t="PROD",hublet:i=""})=>{const r="PROD"!==t;return e?ei({isQa:r,hublet:i}):Zt({isQa:r,hublet:i})};class ni{constructor(e,t){t=t||{};e||console.warn("The projectName parameter is required");this.projectName=e;this.env=(t.env||"PROD").toUpperCase();this.hublet=t.hublet||"";this.isEmbedApp=t.isEmbedApp||!1;this.level=(t.level||"ERROR").toUpperCase();this.disabled=t.disabled||!1;this.baseUrl=t.baseUrl||si({isEmbedApp:this.isEmbedApp,env:this.env,hublet:this.hublet});this.tags=t.tags||{};this.cookies=t.cookies||{};this.user=t.user||{}}bindToWindow(e=[],t=[]){e.length<1?console.warn("You need to specify allowlisted domains when binding to window errors or you will catch all page errors"):window.onerror=(i,r,s,n,o)=>{r&&ii(e,r)&&!ii(t,o.message)&&"script error"!==i.toLowerCase()&&this.sendReport("error",i,r,o)}}report(e,t,i={}){if(e){i.silent&&console.error(e);this.sendReport("error",e.message,e.fileName,e,t)}}reportMessage(e,t,i={}){if(e){i.silent&&console.error(e);this.sendReport("info",e,window.location.href,void 0,t)}}debug(e,t){if(e&&"DEBUG"===this.level){console.debug(e);this.sendReport("debug",e.message,e.fileName,e,t)}}addTags(e){ti(this.tags,e)}addCookies(e){ti(this.cookies,e)}addUserContext(e){ti(this.user,e)}sendReport(e,t,i,r,s){if(this.disabled){console.warn("Not reporting error to Outpost because logging is disabled");return}i=i||(window.document.currentScript?window.document.currentScript.src:null)||window.location.href;const n=this.buildReport(e,t,i,r,s),o=new Image,a=encodeURIComponent(JSON.stringify(n));o.src=`${this.baseUrl}/${this.projectName}/error.gif?report=${a}`;o.onload=()=>{console.log("Completed reporting error to "+this.projectName)}}buildReport(e,t,i,r,s={}){const n=r?r.name:"Message";let o;o=r&&r.message?r.message.substring(0,999):t.substring(0,999);return{culprit:n,message:o,level:e,exception:[{type:n,value:r&&r.stack&&r.stack.substring(0,999)||o,url:i}],request:{url:`${window.location.protocol}//${window.location.host+window.location.pathname}`,queryString:window.location.search.replace(/(^\?)/,""),cookies:ri(this.cookies)},environment:this.env,tags:ti(this.tags),user:this.user,extra:s}}}var oi=ni;const ai="web-interactives-embed",ci=[];class di{constructor({hublet:e="",portalId:t=0,env:i,src:r}={}){this.env=i;this.hublet=e;this.portalId=t;this.src=r;this.reporter=void 0;this.config=void 0;this.setup()}buildConfig(){return{isEmbedApp:!0,env:this.env,hublet:this.hublet,tags:{portalId:this.portalId}}}bindToWindow(){this.reporter.bindToWindow([this.src],ci)}report(e,t={},i="report"){if(!this.reporter||!this.config)throw new Error("report() called before setup()");if(!this.reporter[i])throw new Error(`Level "${i}" is not supported`);this.reporter[i](e,t)}setup(){this.config=this.buildConfig();this.reporter=new oi(ai,this.config);this.bindToWindow()}}var hi=di;const li="previewInteractiveId",ui="templatePath",pi="screenshotService",gi="screenshotBodyHeight",mi="publishedPreview";class fi{constructor(){this.populateOnPageConfigs=e=>{const t=[...Object.keys(this.interactives),...Object.keys(this.buttonTriggerConfigs),...this.previewIds],i=e.filter(e=>!t.includes(e));if(i.length){z("Fetching configs for button triggers",i);jt({isPreview:!1,previewIds:i}).then(e=>{z(`Fetched ${e.webInteractiveConfigs.length} interactives for click trigger`);e.webInteractiveConfigs.forEach(e=>{e.containerType===o?this.handleCreateInteractive(e):this.buttonTriggerConfigs[e.contentModelId]=e})}).catch(e=>{console.error(e);Pe(pe)})}};this.handleCreateInteractive=(e,t=!1)=>{e.containerType===o&&(this.findIsForScreenshot()||this.findIsPreview())&&le.setupEmbedContainer(e);this.interactives[e.contentModelId]=new qt(e,this.previewIds.indexOf(e.contentModelId)>-1||this.isPreview,t||this.findIsForScreenshot());if(this.pendingFetchToShowIds[e.contentModelId]||this.findIsForScreenshot()){this.interactives[e.contentModelId].show(t);this.pendingFetchToShowIds[e.contentModelId]=!1}};this.interactives={};this.previewIds=[];this.anchorIds=[];this.pendingFetchToShowIds={};this.errorReporter=null;this.analyticsInfo={};this.buttonTriggerConfigs={};this.searchParams=new URLSearchParams(window.location.search)}findAllPreviewIdsFromQuery(){const e=[],t=this.searchParams.get(li);t&&e.push(Number(t));return e}findIsPreview(){return this.searchParams.has(li)}findIsForScreenshot(){return this.searchParams.has(pi)}setupErrorReporter(){const{hublet:e,portalId:t,env:i,src:r}=Ee();this.errorReporter=new hi({hublet:e,portalId:t,env:i,src:r})}showInteractive(e,t=!1){this.interactives[e]?this.interactives[e].show(t):this.pendingFetchToShowIds[e]=!0}mountInteractive(e){this.buttonTriggerConfigs[e]?this.handleCreateInteractive(this.buttonTriggerConfigs[e],!0):this.requestInteractives([e],!0)}attachButtonTriggers(){window.addEventListener("message",e=>{if(e&&e.data&&e.data.type===Ye){const t=e.data.id;if(isNaN(t)){console.error("Attempting to show with invalid id",t);return}z("Opening call to action from event");if(!this.interactives[t])if(this.buttonTriggerConfigs[t]){z("Creating from prefetched data",t);this.handleCreateInteractive(this.buttonTriggerConfigs[t],!0)}else{z("Not fetched yet, fetching now",t);this.pendingFetchToShowIds[t]=!0;this.requestInteractives([t],!0)}this.interactives[t]&&this.interactives[t].show(!0)}});const e=Array.from(le.getAllButtonsWithTriggerClass());z(`Found ${e.length} buttons with trigger class`);const t=(e,t=!1)=>{const i=le.getInteractiveIdsFromElement(e);if(i){z(`Found id ${i} on button with trigger class`);this.anchorIds.push(i);t&&this.populateOnPageConfigs([i]);e.removeAttribute("href");e.removeAttribute("target");e.addEventListener("mouseover",()=>{this.interactives[i]||this.mountInteractive(i)});e.addEventListener("mouseup",()=>{this.showInteractive(i,!0)});e.addEventListener("keypress",e=>{if("Enter"===e.key){if(this.interactives[i]){this.showInteractive(i,!0);return}this.mountInteractive(i);this.showInteractive(i,!0)}})}};e.forEach(t);let i=[];const r=Vt(()=>{this.populateOnPageConfigs(i);i=[]},1e3);le.attachCtaRenderEvent(e=>{t(e);const s=le.getInteractiveIdsFromElement(e);i.push(s);r()})}requestTemplateConfig(e){return Wt(e).then(t=>{this.interactives[e]=new qt(t,!0,!0);Pe(ue);this.interactives[e].show()}).catch(e=>{console.error(e);Pe(pe)})}prefetchAllOnPageInteractiveConfigs(){const e=le.getAllOnPageInteractiveIds();this.populateOnPageConfigs(e)}getPreviewInteractives(){return this.isPreview&&!this.searchParams.has(mi)}requestInteractives(e,t=!1){return jt({isPreview:this.getPreviewInteractives(),previewIds:e,versionId:this.searchParams.get("versionId"),previewScheduled:this.searchParams.get("previewScheduled")}).then(e=>{z(`Found ${e.webInteractiveConfigs.length} interactives`);e.webInteractiveConfigs.forEach(e=>{this.handleCreateInteractive(e,t)});Pe(ue)}).catch(e=>{console.error(e);Pe(pe)})}start(){this.previewIds=this.findAllPreviewIdsFromQuery();this.isPreview=V(window.location.host);this.setupErrorReporter();le.setup({screenshotHeight:this.searchParams.get(gi)});const e=this.searchParams.get(ui);this.attachButtonTriggers();this.prefetchAllOnPageInteractiveConfigs();e?this.requestTemplateConfig(e):!this.isPreview||this.previewIds.length?this.requestInteractives(this.previewIds):z("Skipping fetching interactives for passive triggers, in preview page with no interactive id for fetching")}}const wi=()=>!!(window.disabledHsPopups&&window.disabledHsPopups.indexOf("LEADFLOW")>-1)||!!window.hsInEditor;function vi(){return["function"==typeof window.Promise.all,"function"==typeof window.Promise.resolve].every(e=>!0===e)}const bi=()=>{if(!wi())if(window.hubspot_web_interactives_running)console.error("duplicate instance of web interactives app exists");else{(new fi).start();window.hubspot_web_interactives_running=!0}};function yi(){vi()?bi():z("Browser not supported")}const Ti=()=>{yi();document.removeEventListener("DOMContentLoaded",Ti)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Ti):yi()}});
//# sourceMappingURL=project.js.map